<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Besiege die Filterblase</title>
<style>
body {
  margin:0;
  font-family: Arial, sans-serif;
  background-color: #000;
  color: #fff;
  text-align: center;
  padding: 40px 10px;
}
h1 { color: #00bfff; margin-bottom: 20px; }
.panel {
  background-color: #111;
  padding: 20px;
  border-radius: 10px;
  max-width: 700px;
  margin: 0 auto 20px auto;
  text-align: center;
}
.question { font-size: 1.15rem; margin-bottom: 20px; }
.btn {
  background-color: #007BFF;
  color: #fff;
  border: none;
  border-radius: 8px;
  padding: 12px 25px;
  margin: 8px;
  cursor: pointer;
  font-size: 1rem;
  display: inline-block;
}
.btn:hover { background-color: #3399ff; }
.btn-danger { background-color: #ff4c4c; }
.btn-danger:hover { background-color: #e84343; }
.btn-secondary { background-color: #008CBA; }
.btn-secondary:hover { background-color: #33b5e5; }
.hidden { display: none; }
.message { margin-top: 15px; color: #eaeaea; }
a.link-like {
  display: block;
  margin-top: 15px;
  color: #00bfff;
  text-decoration: underline;
  cursor: pointer;
}
ul { text-align: left; padding-left: 20px; }

/* Info Men√º gr√∂√üer & Abstand */
#info .panel p, #info .panel ul li {
  font-size: 1.25rem;
  margin-bottom: 15px;
}

/* Admin Button & Panel */
#adminBtn {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background-color: #444;
  color: #fff;
  padding: 10px 15px;
  border-radius: 8px;
  cursor: pointer;
  font-size: 0.9rem;
  z-index: 1000;
}
#adminPanel {
  position: fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  background-color: rgba(0,0,0,0.95);
  color: #fff;
  padding: 20px;
  display: none;
  overflow-y: auto;
  z-index: 999;
}

/* Admin Content */
#adminContent {
  font-size: 1.25rem;
  letter-spacing: 1.5px;
}
#adminContent button {
  margin-top: 10px;
  padding: 10px 15px;
  font-size: 1rem;
}
</style>
</head>
<body>

<div id="startMenu">
  <h1>Besiege die Filterblase</h1>
  <div class="panel">
    <p>M√∂chtest du testen, wie Social-Media-Algorithmen Inhalte zeigen, oder erfahren, wie du dich davor sch√ºtzt?</p>
    <button class="btn" onclick="showGame()">Zum Quiz</button>
    <button class="btn" onclick="showInfo()">Informationen</button>
  </div>
</div>

<div id="game" class="hidden">
  <h1>Besiege die Filterblase</h1>
  <div class="panel">
    <div class="question" id="question">Lade Frage...</div>
    <button class="btn" id="btn1">A</button>
    <button class="btn" id="btn2">B</button>
    <div style="margin-top:10px;">
      <button class="btn btn-secondary hidden" id="nextBtn">Weiter</button>
      <button class="btn btn-danger hidden" id="restartBtn">Erneut versuchen</button>
    </div>
    <div class="message" id="message"></div>
  </div>
  <a class="link-like" onclick="showMenu()">Zur√ºck zum Men√º</a>
</div>

<div id="info" class="hidden">
  <h1>Informationen</h1>
  <div class="panel">
    <p>Social Media zeigt Inhalte, die zu deinen bisherigen Interessen passen. Dadurch entstehen Filterblasen.</p>
    <p>Tipps, um Filterblasen zu vermeiden:</p>
    <ul>
      <li>1. Suche aktiv nach anderen Perspektiven.</li>
      <li>2. Interagiere mit verschiedenen Themen.</li>
      <li>3. Wechsle regelm√§√üig deine Informationsquellen.</li>
      <li>4. Nutze chronologische Feeds oder Newsletter.</li>
      <li>5. Mache digitale Pausen und kontrolliere deine Nutzung.</li>
    </ul>
  </div>
  <a class="link-like" onclick="showMenu()">Zur√ºck zum Men√º</a>
</div>

<!-- Admin -->
<button id="adminBtn">Admin</button>
<div id="adminPanel">
  <h3>Admin-Bereich</h3>
  <div id="adminContent">Bitte Passwort eingeben:</div>
</div>

<script>
// Elemente
const startMenu = document.getElementById("startMenu");
const gameDiv = document.getElementById("game");
const infoDiv = document.getElementById("info");
const questionEl = document.getElementById("question");
const btn1 = document.getElementById("btn1");
const btn2 = document.getElementById("btn2");
const nextBtn = document.getElementById("nextBtn");
const restartBtn = document.getElementById("restartBtn");
const messageEl = document.getElementById("message");

// Admin
const adminBtn = document.getElementById("adminBtn");
const adminPanel = document.getElementById("adminPanel");
const adminContent = document.getElementById("adminContent");
let isAdmin = false;

// Fragen
const questions = [
  {text:"Ein Algorithmus zeigt Inhalte, die du oft likst oder kommentierst. Ziel?", options:{A:"Viele verschiedene Meinungen",B:"Inhalte die dich interessieren"},answer:"B",explanation:"Algorithmen zeigen Inhalte, die deine Aufmerksamkeit halten."},
  {text:"Warum erscheinen manche Posts nicht im Feed, obwohl Freunde sie teilen?", options:{A:"Algorithmus filtert relevante Inhalte",B:"Internet zu langsam"},answer:"A",explanation:"Plattformen filtern Inhalte nach Relevanz."},
  {text:"Wenn du ein Video lange ansiehst, was macht der Algorithmus?", options:{A:"Zeigt √§hnliche Videos",B:"Zeigt keine Videos mehr"},answer:"A",explanation:"Lange Wiedergabe signalisiert Interesse."},
  {text:"Filterblasen entstehen, weil der Algorithmus‚Ä¶", options:{A:"Nur best√§tigende Inhalte zeigt",B:"Zuf√§llige Inhalte aus aller Welt"},answer:"A",explanation:"Algorithmen bevorzugen Inhalte, die du kennst."},
  {text:"Wie kann man Filterblasen vermeiden?", options:{A:"Vielf√§ltige Inhalte aktiv suchen und liken",B:"Nur Inhalte liken die man mag"},answer:"A",explanation:"Abwechslungsreiche Interaktionen zeigen dem Algorithmus andere Inhalte."},
  {text:"Warum kann ein Social-Media-Algorithmus problematisch sein?", options:{A:"Kann Sicht auf Welt verzerren",B:"L√∂scht automatisch Nachrichten"},answer:"A",explanation:"Filterblasen k√∂nnen einseitige Sichtweisen verst√§rken."}
];

let shuffledQuestions = [];
let current = 0;

// Funktionen
function showMenu(){ startMenu.classList.remove("hidden"); gameDiv.classList.add("hidden"); infoDiv.classList.add("hidden"); clearMessages(); }
function showInfo(){ startMenu.classList.add("hidden"); gameDiv.classList.add("hidden"); infoDiv.classList.remove("hidden"); clearMessages(); }
function shuffleArray(arr){ const a = arr.slice(); for(let i=a.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [a[i],a[j]]=[a[j],a[i]]; } return a; }
function clearMessages(){ messageEl.textContent=""; nextBtn.classList.add("hidden"); restartBtn.classList.add("hidden"); }

async function showGame(){
  startMenu.classList.add("hidden");
  infoDiv.classList.add("hidden");

  if(!isAdmin){
    let cls = prompt("Gib deine Klasse ein (max. 5 Zeichen):");
    if(!cls || cls.length > 5){
      alert("Ung√ºltige Eingabe! Maximal 5 Zeichen.");
      showMenu();
      return;
    }
    cls = cls.toUpperCase();
    let data = JSON.parse(localStorage.getItem("classData") || "{}");
    data[cls] = (data[cls] || 0) + 1;
    localStorage.setItem("classData", JSON.stringify(data));
  }

  gameDiv.classList.remove("hidden");
  startGame();
}

function startGame(){
  shuffledQuestions = shuffleArray(questions);
  current=0;
  loadQuestion();
}

function loadQuestion(){
  const q = shuffledQuestions[current];
  questionEl.textContent=`Frage ${current+1} von ${shuffledQuestions.length}: ${q.text}`;
  const keys = Object.keys(q.options);
  btn1.textContent=keys[0]+": "+q.options[keys[0]];
  btn2.textContent=keys[1]+": "+q.options[keys[1]];
  btn1.dataset.answer=keys[0];
  btn2.dataset.answer=keys[1];
  messageEl.textContent="";
  btn1.style.display="inline-block"; btn2.style.display="inline-block";
  btn1.disabled=false; btn2.disabled=false;
  nextBtn.classList.add("hidden"); restartBtn.classList.add("hidden");
}

function checkAnswer(choice){
  const q = shuffledQuestions[current];
  btn1.style.display="none"; btn2.style.display="none";
  if(choice===q.answer){
    messageEl.textContent="‚úÖ Richtig. "+q.explanation;
    nextBtn.classList.remove("hidden");
  } else{
    questionEl.textContent="‚ùå Du hast die Frage nicht richtig beantwortet.";
    messageEl.textContent="Falsch. "+q.explanation;
    restartBtn.classList.remove("hidden");
  }
}

btn1.onclick=()=>checkAnswer(btn1.dataset.answer);
btn2.onclick=()=>checkAnswer(btn2.dataset.answer);
nextBtn.onclick=()=>{ current++; if(current>=shuffledQuestions.length){ questionEl.textContent="üéâ Quiz beendet."; messageEl.textContent=""; btn1.style.display="none"; btn2.style.display="none"; nextBtn.classList.add("hidden"); restartBtn.classList.remove("hidden"); } else loadQuestion(); };
restartBtn.onclick=startGame;

// Admin Login
adminBtn.onclick = ()=>{ adminPanel.style.display="block"; if(!isAdmin) showAdminLogin(); };

function showAdminLogin(){
  adminContent.innerHTML = `
    <input type="password" id="adminPass" placeholder="Passwort">
    <button id="adminLoginBtn">Login</button>
    <button id="backBtn">Zur√ºck zum Men√º</button>
    <div id="adminMsg" style="margin-top:10px;color:#ff4c4c;"></div>
  `;
  document.getElementById("adminLoginBtn").onclick = ()=>{
    const pass = document.getElementById("adminPass").value;
    if(pass==="x7llm@cyber"){ showAdminPanel(); }
    else { document.getElementById("adminMsg").textContent="Falsches Passwort!"; }
  };
  document.getElementById("backBtn").onclick = ()=>{ adminPanel.style.display="none"; showMenu(); };
}

function showAdminPanel(){
  isAdmin=true;
  let data = JSON.parse(localStorage.getItem("classData")||"{}");
  let html="<h3>Klassen√ºbersicht</h3><ul style='font-size:1.25rem;letter-spacing:1.5px;'>";
  for(const cls in data){
    html+=`<li>${cls}: ${data[cls]}</li>`;
  }
  html+="</ul>";
  html+=`<button id='logoutAdminBtn'>Logout</button>`;
  html+=`<button id='backBtn'>Zur√ºck zum Men√º</button>`;
  adminContent.innerHTML=html;

  document.getElementById("logoutAdminBtn").onclick=logoutAdmin;
  document.getElementById("backBtn").onclick=()=>{ adminPanel.style.display="none"; showMenu(); };
}

function logoutAdmin(){ isAdmin=false; adminPanel.style.display="none"; showAdminLogin(); }

showMenu();
</script>
</body>
</html>
